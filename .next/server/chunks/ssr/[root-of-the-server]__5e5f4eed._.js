module.exports = {

"[externals]/events [external] (events, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("events", () => require("events"));

module.exports = mod;
}}),
"[externals]/fs [external] (fs, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}}),
"[externals]/url [external] (url, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("url", () => require("url"));

module.exports = mod;
}}),
"[externals]/util [external] (util, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("util", () => require("util"));

module.exports = mod;
}}),
"[externals]/stream [external] (stream, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}}),
"[externals]/http [external] (http, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("http", () => require("http"));

module.exports = mod;
}}),
"[externals]/https [external] (https, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("https", () => require("https"));

module.exports = mod;
}}),
"[externals]/dns [external] (dns, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("dns", () => require("dns"));

module.exports = mod;
}}),
"[externals]/os [external] (os, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("os", () => require("os"));

module.exports = mod;
}}),
"[externals]/buffer [external] (buffer, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("buffer", () => require("buffer"));

module.exports = mod;
}}),
"[externals]/keyv [external] (keyv, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("keyv", () => require("keyv"));

module.exports = mod;
}}),
"[externals]/zlib [external] (zlib, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("zlib", () => require("zlib"));

module.exports = mod;
}}),
"[externals]/http2 [external] (http2, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("http2", () => require("http2"));

module.exports = mod;
}}),
"[externals]/tls [external] (tls, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("tls", () => require("tls"));

module.exports = mod;
}}),
"[externals]/net [external] (net, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("net", () => require("net"));

module.exports = mod;
}}),
"[externals]/path [external] (path, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("path", () => require("path"));

module.exports = mod;
}}),
"[externals]/crypto [external] (crypto, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}}),
"[project]/app/map/page.jsx [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>MapPage
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$mapbox$2d$gl$2f$dist$2f$mapbox$2d$gl$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/mapbox-gl/dist/mapbox-gl.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mapbox$2f$mapbox$2d$gl$2d$geocoder$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@mapbox/mapbox-gl-geocoder/lib/index.js [app-ssr] (ecmascript)");
"use client";
;
;
;
;
;
;
__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$mapbox$2d$gl$2f$dist$2f$mapbox$2d$gl$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].accessToken = ("TURBOPACK compile-time value", "pk.eyJ1IjoiYnJ5cGF0dGhvbWFzIiwiYSI6ImNtZWtqMGcxaDA2aWYyaW9hczhqOXF0cHIifQ.BDkKk1nSCJXsm7p6DL65Hw");
function MapPage() {
    const mapContainer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const map = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const defaultCenter = [
        -111.94,
        33.4255
    ]; // Tempe
    const defaultZoom = 11;
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (map.current || !mapContainer.current) return; // make sure container exists
        // Initialize map
        map.current = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$mapbox$2d$gl$2f$dist$2f$mapbox$2d$gl$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].Map({
            container: mapContainer.current,
            style: "mapbox://styles/mapbox/streets-v12",
            center: defaultCenter,
            zoom: defaultZoom
        });
        map.current.on("load", async ()=>{
            // Navigation controls
            map.current.addControl(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$mapbox$2d$gl$2f$dist$2f$mapbox$2d$gl$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].NavigationControl(), "top-right");
            // Geocoder
            const geocoder = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mapbox$2f$mapbox$2d$gl$2d$geocoder$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]({
                accessToken: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$mapbox$2d$gl$2f$dist$2f$mapbox$2d$gl$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].accessToken,
                mapboxgl: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$mapbox$2d$gl$2f$dist$2f$mapbox$2d$gl$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"],
                marker: false
            });
            map.current.addControl(geocoder, "top-left");
            // Random color generator
            const randomColor = ()=>`hsl(${Math.random() * 360}, 60%, 60%)`;
            // Function to add zoning layers
            async function addZoningLayer(city, filename, codeField, descField = null) {
                const response = await fetch(`/data/${filename}`);
                const geojson = await response.json();
                // Unique zoning codes
                const zonings = [
                    ...new Set(geojson.features.map((f)=>f.properties[codeField]).filter(Boolean))
                ];
                // Assign colors
                const colorMap = {};
                zonings.forEach((z)=>colorMap[z] = randomColor());
                // Add source
                map.current.addSource(`${city}-zoning`, {
                    type: "geojson",
                    data: geojson
                });
                // Fill layer
                map.current.addLayer({
                    id: `${city}-zoning-fill`,
                    type: "fill",
                    source: `${city}-zoning`,
                    paint: {
                        "fill-color": [
                            "match",
                            [
                                "get",
                                codeField
                            ],
                            ...zonings.flatMap((z)=>[
                                    z,
                                    colorMap[z]
                                ]),
                            "#cccccc"
                        ],
                        "fill-opacity": 0.6
                    }
                });
                // Outline layer
                map.current.addLayer({
                    id: `${city}-zoning-outline`,
                    type: "line",
                    source: `${city}-zoning`,
                    paint: {
                        "line-color": "#000",
                        "line-width": 0.5
                    }
                });
                // Popup on click
                map.current.on("click", `${city}-zoning-fill`, (e)=>{
                    const props = e.features[0].properties;
                    const code = props[codeField];
                    const desc = descField ? props[descField] : "No description listed";
                    new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$mapbox$2d$gl$2f$dist$2f$mapbox$2d$gl$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].Popup().setLngLat(e.lngLat).setHTML(`<strong>${city.toUpperCase()} Zoning Code:</strong> ${code}<br/><strong>Description:</strong> ${desc}`).addTo(map.current);
                });
                // Cursor on hover
                map.current.on("mouseenter", `${city}-zoning-fill`, ()=>{
                    map.current.getCanvas().style.cursor = "pointer";
                });
                map.current.on("mouseleave", `${city}-zoning-fill`, ()=>{
                    map.current.getCanvas().style.cursor = "";
                });
            }
            // Toggle feature (Mapbox control style)
            const toggleContainer = document.createElement("div");
            toggleContainer.className = "mapboxgl-ctrl mapboxgl-ctrl-group";
            toggleContainer.style.display = "flex";
            toggleContainer.style.flexDirection = "row";
            toggleContainer.style.margin = "10px";
            toggleContainer.style.gap = "30px";
            [
                "Tempe",
                "Phoenix",
                "Scottsdale",
                "Mesa",
                "Gilbert",
                "Chandler"
            ].forEach((city)=>{
                const btn = document.createElement("button");
                btn.textContent = city;
                btn.style.cursor = "pointer";
                btn.onclick = ()=>{
                    const fillLayer = map.current.getLayer(`${city}-zoning-fill`);
                    const outlineLayer = map.current.getLayer(`${city}-zoning-outline`);
                    if (!fillLayer || !outlineLayer) return;
                    const visibility = map.current.getLayoutProperty(`${city}-zoning-fill`, "visibility");
                    const newVisibility = visibility === "none" ? "visible" : "none";
                    map.current.setLayoutProperty(`${city}-zoning-fill`, "visibility", newVisibility);
                    map.current.setLayoutProperty(`${city}-zoning-outline`, "visibility", newVisibility);
                };
                toggleContainer.appendChild(btn);
            });
            map.current.addControl({
                onAdd: ()=>toggleContainer,
                onRemove: ()=>toggleContainer.remove()
            }, "top-left");
            // Add zoning layers for all cities
            await addZoningLayer("Tempe", "Zoning_District.geojson", "ZoningCode", "ZoningDescription");
            await addZoningLayer("Phoenix", "Phoenix_Zoning.geojson", "ZONING", "GEN_ZONE");
            await addZoningLayer("Scottsdale", "Scottsdale_Zoning.geojson", "full_zoning");
            await addZoningLayer("Mesa", "mesa_zoning.geojson", "Zoning", "Description");
            await addZoningLayer("Gilbert", "gilbert_zoning.geojson", "ZCODE", "Description");
            await addZoningLayer("Chandler", "chandler_zoning.geojson", "ZONE_CODE");
        });
    }, []);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        ref: mapContainer,
        style: {
            width: "100vw",
            height: "100vh"
        }
    }, void 0, false, {
        fileName: "[project]/app/map/page.jsx",
        lineNumber: 159,
        columnNumber: 10
    }, this);
}
}),

};

//# sourceMappingURL=%5Broot-of-the-server%5D__5e5f4eed._.js.map