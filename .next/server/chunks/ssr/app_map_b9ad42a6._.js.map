{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 8, "column": 0}, "map": {"version":3,"sources":["file:///Users/brycethomas/Documents/zonix/app/map/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport mapboxgl from \"mapbox-gl\";\nimport zoningData from \"./data/zoning.json\"; // 🔹 sample zoning data\n\nexport default function MapPage() {\n  const mapContainer = useRef(null);\n\n  useEffect(() => {\n    mapboxgl.accessToken = process.env.NEXT_PUBLIC_MAPBOX_TOKEN;\n\n    const map = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: \"mapbox://styles/mapbox/streets-v12\",\n      center: [-111.93, 33.42],\n      zoom: 12,\n    });\n\n    // Navigation & fullscreen controls\n    map.addControl(new mapboxgl.NavigationControl(), \"top-right\");\n    map.addControl(new mapboxgl.FullscreenControl(), \"top-right\");\n\n    map.on(\"load\", () => {\n      // 1️⃣ Add zoning polygons as a GeoJSON source\n      map.addSource(\"zoning\", {\n        type: \"geojson\",\n        data: zoningData,\n      });\n\n      // 2️⃣ Fill layer (colors for each zoning type)\n      map.addLayer({\n        id: \"zoning-fill\",\n        type: \"fill\",\n        source: \"zoning\",\n        paint: {\n          \"fill-color\": [\n            \"match\",\n            [\"get\", \"zone\"],\n            \"R1 - Single Family\", \"#1f77b4\", // blue\n            \"R3 - Multifamily\", \"#ff7f0e\",   // orange\n            \"#ccc\" // fallback grey\n          ],\n          \"fill-opacity\": 0.4,\n        },\n      });\n\n      // 3️⃣ Outline for polygons\n      map.addLayer({\n        id: \"zoning-outline\",\n        type: \"line\",\n        source: \"zoning\",\n        paint: {\n          \"line-color\": \"#000\",\n          \"line-width\": 2,\n        },\n      });\n\n      // 4️⃣ Popup on click\n      map.on(\"click\", \"zoning-fill\", (e) => {\n        const zone = e.features[0].properties.zone;\n\n        new mapboxgl.Popup()\n          .setLngLat(e.lngLat)\n          .setHTML(`<strong>Zoning:</strong> ${zone}`)\n          .addTo(map);\n      });\n\n      // Change cursor on hover\n      map.on(\"mouseenter\", \"zoning-fill\", () => {\n        map.getCanvas().style.cursor = \"pointer\";\n      });\n      map.on(\"mouseleave\", \"zoning-fill\", () => {\n        map.getCanvas().style.cursor = \"\";\n      });\n    });\n\n    return () => map.remove();\n  }, []);\n\n  return (\n    <div style={{ height: \"100vh\", width: \"100vw\", position: \"relative\" }}>\n      {/* Title bar */}\n      <div\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          width: \"100%\",\n          backgroundColor: \"rgba(0,0,0,0.6)\",\n          color: \"white\",\n          textAlign: \"center\",\n          padding: \"8px\",\n          zIndex: 1,\n        }}\n      >\n        Zonix | Tempe Zoning Map\n      </div>\n\n      {/* Map container */}\n      <div ref={mapContainer} style={{ height: \"100%\", width: \"100%\" }} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA,iLAA6C,wBAAwB;AAJrE;;;;;AAMe,SAAS;IACtB,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE;IAE5B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,oJAAA,CAAA,UAAQ,CAAC,WAAW;QAEpB,MAAM,MAAM,IAAI,oJAAA,CAAA,UAAQ,CAAC,GAAG,CAAC;YAC3B,WAAW,aAAa,OAAO;YAC/B,OAAO;YACP,QAAQ;gBAAC,CAAC;gBAAQ;aAAM;YACxB,MAAM;QACR;QAEA,mCAAmC;QACnC,IAAI,UAAU,CAAC,IAAI,oJAAA,CAAA,UAAQ,CAAC,iBAAiB,IAAI;QACjD,IAAI,UAAU,CAAC,IAAI,oJAAA,CAAA,UAAQ,CAAC,iBAAiB,IAAI;QAEjD,IAAI,EAAE,CAAC,QAAQ;YACb,8CAA8C;YAC9C,IAAI,SAAS,CAAC,UAAU;gBACtB,MAAM;gBACN,MAAM,oGAAA,CAAA,UAAU;YAClB;YAEA,+CAA+C;YAC/C,IAAI,QAAQ,CAAC;gBACX,IAAI;gBACJ,MAAM;gBACN,QAAQ;gBACR,OAAO;oBACL,cAAc;wBACZ;wBACA;4BAAC;4BAAO;yBAAO;wBACf;wBAAsB;wBACtB;wBAAoB;wBACpB,OAAO,gBAAgB;qBACxB;oBACD,gBAAgB;gBAClB;YACF;YAEA,2BAA2B;YAC3B,IAAI,QAAQ,CAAC;gBACX,IAAI;gBACJ,MAAM;gBACN,QAAQ;gBACR,OAAO;oBACL,cAAc;oBACd,cAAc;gBAChB;YACF;YAEA,qBAAqB;YACrB,IAAI,EAAE,CAAC,SAAS,eAAe,CAAC;gBAC9B,MAAM,OAAO,EAAE,QAAQ,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI;gBAE1C,IAAI,oJAAA,CAAA,UAAQ,CAAC,KAAK,GACf,SAAS,CAAC,EAAE,MAAM,EAClB,OAAO,CAAC,CAAC,yBAAyB,EAAE,MAAM,EAC1C,KAAK,CAAC;YACX;YAEA,yBAAyB;YACzB,IAAI,EAAE,CAAC,cAAc,eAAe;gBAClC,IAAI,SAAS,GAAG,KAAK,CAAC,MAAM,GAAG;YACjC;YACA,IAAI,EAAE,CAAC,cAAc,eAAe;gBAClC,IAAI,SAAS,GAAG,KAAK,CAAC,MAAM,GAAG;YACjC;QACF;QAEA,OAAO,IAAM,IAAI,MAAM;IACzB,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,OAAO;YAAE,QAAQ;YAAS,OAAO;YAAS,UAAU;QAAW;;0BAElE,8OAAC;gBACC,OAAO;oBACL,UAAU;oBACV,KAAK;oBACL,MAAM;oBACN,OAAO;oBACP,iBAAiB;oBACjB,OAAO;oBACP,WAAW;oBACX,SAAS;oBACT,QAAQ;gBACV;0BACD;;;;;;0BAKD,8OAAC;gBAAI,KAAK;gBAAc,OAAO;oBAAE,QAAQ;oBAAQ,OAAO;gBAAO;;;;;;;;;;;;AAGrE","debugId":null}}]
}