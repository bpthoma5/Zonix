{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/brycethomas/Documents/zonix/app/map/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport mapboxgl from \"mapbox-gl\";\nimport zoningData from \"./data/zoning.json\"; // 🔹 sample zoning data\n\nexport default function MapPage() {\n  const mapContainer = useRef(null);\n\n  useEffect(() => {\n    mapboxgl.accessToken = process.env.NEXT_PUBLIC_MAPBOX_TOKEN;\n\n    const map = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: \"mapbox://styles/mapbox/streets-v12\",\n      center: [-111.93, 33.42],\n      zoom: 12,\n    });\n\n    // Navigation & fullscreen controls\n    map.addControl(new mapboxgl.NavigationControl(), \"top-right\");\n    map.addControl(new mapboxgl.FullscreenControl(), \"top-right\");\n\n    map.on(\"load\", () => {\n      // 1️⃣ Add zoning polygons as a GeoJSON source\n      map.addSource(\"zoning\", {\n        type: \"geojson\",\n        data: zoningData,\n      });\n\n      // 2️⃣ Fill layer (colors for each zoning type)\n      map.addLayer({\n        id: \"zoning-fill\",\n        type: \"fill\",\n        source: \"zoning\",\n        paint: {\n          \"fill-color\": [\n            \"match\",\n            [\"get\", \"zone\"],\n            \"R1 - Single Family\", \"#1f77b4\", // blue\n            \"R3 - Multifamily\", \"#ff7f0e\",   // orange\n            \"#ccc\" // fallback grey\n          ],\n          \"fill-opacity\": 0.4,\n        },\n      });\n\n      // 3️⃣ Outline for polygons\n      map.addLayer({\n        id: \"zoning-outline\",\n        type: \"line\",\n        source: \"zoning\",\n        paint: {\n          \"line-color\": \"#000\",\n          \"line-width\": 2,\n        },\n      });\n\n      // 4️⃣ Popup on click\n      map.on(\"click\", \"zoning-fill\", (e) => {\n        const zone = e.features[0].properties.zone;\n\n        new mapboxgl.Popup()\n          .setLngLat(e.lngLat)\n          .setHTML(`<strong>Zoning:</strong> ${zone}`)\n          .addTo(map);\n      });\n\n      // Change cursor on hover\n      map.on(\"mouseenter\", \"zoning-fill\", () => {\n        map.getCanvas().style.cursor = \"pointer\";\n      });\n      map.on(\"mouseleave\", \"zoning-fill\", () => {\n        map.getCanvas().style.cursor = \"\";\n      });\n    });\n\n    return () => map.remove();\n  }, []);\n\n  return (\n    <div style={{ height: \"100vh\", width: \"100vw\", position: \"relative\" }}>\n      {/* Title bar */}\n      <div\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          width: \"100%\",\n          backgroundColor: \"rgba(0,0,0,0.6)\",\n          color: \"white\",\n          textAlign: \"center\",\n          padding: \"8px\",\n          zIndex: 1,\n        }}\n      >\n        Zonix | Tempe Zoning Map\n      </div>\n\n      {/* Map container */}\n      <div ref={mapContainer} style={{ height: \"100%\", width: \"100%\" }} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;AAU2B;;AAR3B;AACA;AACA,iLAA6C,wBAAwB;;;AAJrE;;;;AAMe,SAAS;;IACtB,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAE5B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6BAAE;YACR,uJAAA,CAAA,UAAQ,CAAC,WAAW;YAEpB,MAAM,MAAM,IAAI,uJAAA,CAAA,UAAQ,CAAC,GAAG,CAAC;gBAC3B,WAAW,aAAa,OAAO;gBAC/B,OAAO;gBACP,QAAQ;oBAAC,CAAC;oBAAQ;iBAAM;gBACxB,MAAM;YACR;YAEA,mCAAmC;YACnC,IAAI,UAAU,CAAC,IAAI,uJAAA,CAAA,UAAQ,CAAC,iBAAiB,IAAI;YACjD,IAAI,UAAU,CAAC,IAAI,uJAAA,CAAA,UAAQ,CAAC,iBAAiB,IAAI;YAEjD,IAAI,EAAE,CAAC;qCAAQ;oBACb,8CAA8C;oBAC9C,IAAI,SAAS,CAAC,UAAU;wBACtB,MAAM;wBACN,MAAM,oGAAA,CAAA,UAAU;oBAClB;oBAEA,+CAA+C;oBAC/C,IAAI,QAAQ,CAAC;wBACX,IAAI;wBACJ,MAAM;wBACN,QAAQ;wBACR,OAAO;4BACL,cAAc;gCACZ;gCACA;oCAAC;oCAAO;iCAAO;gCACf;gCAAsB;gCACtB;gCAAoB;gCACpB,OAAO,gBAAgB;6BACxB;4BACD,gBAAgB;wBAClB;oBACF;oBAEA,2BAA2B;oBAC3B,IAAI,QAAQ,CAAC;wBACX,IAAI;wBACJ,MAAM;wBACN,QAAQ;wBACR,OAAO;4BACL,cAAc;4BACd,cAAc;wBAChB;oBACF;oBAEA,qBAAqB;oBACrB,IAAI,EAAE,CAAC,SAAS;6CAAe,CAAC;4BAC9B,MAAM,OAAO,EAAE,QAAQ,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI;4BAE1C,IAAI,uJAAA,CAAA,UAAQ,CAAC,KAAK,GACf,SAAS,CAAC,EAAE,MAAM,EAClB,OAAO,CAAC,AAAC,4BAAgC,OAAL,OACpC,KAAK,CAAC;wBACX;;oBAEA,yBAAyB;oBACzB,IAAI,EAAE,CAAC,cAAc;6CAAe;4BAClC,IAAI,SAAS,GAAG,KAAK,CAAC,MAAM,GAAG;wBACjC;;oBACA,IAAI,EAAE,CAAC,cAAc;6CAAe;4BAClC,IAAI,SAAS,GAAG,KAAK,CAAC,MAAM,GAAG;wBACjC;;gBACF;;YAEA;qCAAO,IAAM,IAAI,MAAM;;QACzB;4BAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,OAAO;YAAE,QAAQ;YAAS,OAAO;YAAS,UAAU;QAAW;;0BAElE,6LAAC;gBACC,OAAO;oBACL,UAAU;oBACV,KAAK;oBACL,MAAM;oBACN,OAAO;oBACP,iBAAiB;oBACjB,OAAO;oBACP,WAAW;oBACX,SAAS;oBACT,QAAQ;gBACV;0BACD;;;;;;0BAKD,6LAAC;gBAAI,KAAK;gBAAc,OAAO;oBAAE,QAAQ;oBAAQ,OAAO;gBAAO;;;;;;;;;;;;AAGrE;GAjGwB;KAAA","debugId":null}}]
}